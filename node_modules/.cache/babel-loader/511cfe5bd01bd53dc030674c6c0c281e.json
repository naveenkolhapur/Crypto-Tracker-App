{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/React-Projects/crypto-nerds/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Projects/React-Projects/crypto-nerds/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Projects/React-Projects/crypto-nerds/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{CircularProgress,createTheme,ThemeProvider}from'@material-ui/core';import axios from'axios';import React from'react';import{useEffect}from'react';import{useState}from'react';import{Line}from'react-chartjs-2';import{HistoricalChart}from'../config/api';import{CryptoState}from'../CryptoContext';import\"./CoinInfo.css\";import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import{Chart}from'react-chartjs-2';import{chartDays}from'../config/data';import SelectButton from'./SelectButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);var CoinInfo=function CoinInfo(_ref){var coin=_ref.coin;var _useState=useState(),_useState2=_slicedToArray(_useState,2),historicalData=_useState2[0],setHistoricalData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),days=_useState4[0],setDays=_useState4[1];var _CryptoState=CryptoState(),currency=_CryptoState.currency;var fetchHistoricalData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(HistoricalChart(coin.id,days,currency));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setHistoricalData(data.prices);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchHistoricalData(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchHistoricalData();},[currency,days]);var darkTheme=createTheme({palette:{primary:{main:\"#fff\"},type:\"dark\"}});return/*#__PURE__*/_jsx(ThemeProvider,{theme:darkTheme,children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:!historicalData?/*#__PURE__*/_jsx(CircularProgress,{style:{color:\"#486DFB\"},size:250,thickness:1}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Line,{data:{labels:historicalData.map(function(coin){var date=new Date(coin[0]);var time=date.getHours()>12?\"\".concat(date.getHours()-12,\":\").concat(date.getMinutes(),\"PM\"):\"\".concat(date.getHours(),\":\").concat(date.getMinutes(),\"AM\");return days===1?time:date.toLocaleDateString();}),datasets:[{data:historicalData.map(function(coin){return coin[1];}),label:\"Price (last \".concat(days,\" Days) in \").concat(currency),borderColor:\"#486DFB\"}]},options:{elements:{point:{radius:1}}}}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-buttons\",children:chartDays.map(function(day){return/*#__PURE__*/_jsx(SelectButton,{onClick:function onClick(){return setDays(day.value);},selected:day.value===days,children:day.label},day.value);})})]})})});};export default CoinInfo;","map":{"version":3,"names":["CircularProgress","createTheme","ThemeProvider","axios","React","useEffect","useState","Line","HistoricalChart","CryptoState","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","chartDays","SelectButton","register","CoinInfo","coin","historicalData","setHistoricalData","days","setDays","currency","fetchHistoricalData","get","id","data","prices","darkTheme","palette","primary","main","type","color","labels","map","date","Date","time","getHours","getMinutes","toLocaleDateString","datasets","label","borderColor","elements","point","radius","day","value"],"sources":["D:/Projects/React-Projects/crypto-nerds/src/Components/CoinInfo.js"],"sourcesContent":["import { CircularProgress, createTheme, ThemeProvider } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react'\r\nimport { Line } from 'react-chartjs-2';\r\nimport { HistoricalChart } from '../config/api';\r\nimport { CryptoState } from '../CryptoContext';\r\nimport \"./CoinInfo.css\"\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,} from 'chart.js'\r\nimport { Chart } from 'react-chartjs-2'\r\nimport { chartDays } from '../config/data';\r\nimport SelectButton from './SelectButton';\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend)\r\n\r\nconst CoinInfo = ({coin}) => { \r\n  const [historicalData, setHistoricalData] = useState();\r\n  const [days, setDays] = useState(1);\r\n\r\n  const {currency} = CryptoState();\r\n\r\n  const fetchHistoricalData = async () => {\r\n    const {data} = await axios.get(HistoricalChart(coin.id, days, currency));\r\n    setHistoricalData(data.prices);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHistoricalData();\r\n  },[currency, days])\r\n    \r\n  const darkTheme = createTheme({\r\n    palette: {\r\n      primary:{\r\n        main: \"#fff\",\r\n      },\r\n      type: \"dark\",\r\n    },\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider theme={darkTheme}>\r\n    <div className='chart-container'>\r\n      {\r\n        !historicalData ? (\r\n          <CircularProgress\r\n            style={{color: \"#486DFB\"}}\r\n            size={250}\r\n            thickness={1}\r\n          />\r\n        ):(\r\n          <>\r\n            <Line \r\n              data={{\r\n                labels: historicalData.map((coin) => {\r\n                  let date = new Date(coin[0]);\r\n                  let time = date.getHours() > 12\r\n                  ? `${date.getHours() - 12}:${date.getMinutes()}PM`\r\n                  : `${date.getHours()}:${date.getMinutes()}AM`;\r\n\r\n                  return days===1 ? time : date.toLocaleDateString();               \r\n                  }),\r\n                  datasets : [\r\n                    {\r\n                      data: historicalData.map((coin) => coin[1]),\r\n                     label: `Price (last ${days} Days) in ${currency}`,\r\n                     borderColor:\"#486DFB\",                   \r\n                    },\r\n                  ],\r\n              }}\r\n              options={{\r\n                elements: {\r\n                  point: {\r\n                    radius: 1,\r\n                  },\r\n                },\r\n              }}\r\n            />\r\n            <div className='chart-buttons'>\r\n              {chartDays.map((day) => (\r\n                  <SelectButton\r\n                  key={day.value}\r\n                  onClick={() => setDays(day.value)}\r\n                  selected={day.value===days}\r\n                  >{day.label}</SelectButton>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )\r\n      }\r\n    </div>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nexport default CoinInfo"],"mappings":"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"},"metadata":{},"sourceType":"module"}